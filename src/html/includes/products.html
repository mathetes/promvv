<div class="container">
  <div class="row">
    <div class="col">
      <h2 class="main_h2" id="products">Продукция</h2>
      <div class="container-fluid text-center my-3">
        <div class="row">
          <div class="row mx-auto my-auto justify-content-center">
            <div
              id="recipeCarousel"
              class="carousel slide"
              data-bs-ride="carousel"
            >
              <div class="carousel-inner" role="listbox">
                <div class="carousel-item active">
                  <div class="col-xl-4">
                    <div class="card">
                      <div class="card-img">
                        <img
                          src="./../../img/products/1.png"
                          class="img-fluid"
                        />
                      </div>
                      <div class="card-name">
                        Заряды ЛВВ-34-1 в виде лент, сформированные из
                        эластичного состава
                      </div>
                      <button class="more-info">Узнать подробнее</button>
                    </div>
                  </div>
                </div>
                <div class="carousel-item">
                  <div class="col-xl-4">
                    <div class="card">
                      <div class="card-img">
                        <img
                          src="./../../img/products/2.png"
                          class="img-fluid"
                        />
                      </div>
                      <div class="card-name">
                        Шашки Т-400 Г пресованные гидроизоливанные тротиловые
                      </div>
                      <button class="more-info">Узнать подробнее</button>
                    </div>
                  </div>
                </div>
                <div class="carousel-item">
                  <div class="col-xl-4">
                    <div class="card">
                      <div class="card-img">
                        <img
                          src="./../../img/products/3.jpg"
                          class="img-fluid"
                        />
                      </div>
                      <div class="card-name">
                        Блоки тротиловые прессованные в полимерном корпусе
                      </div>
                      <button class="more-info">Узнать подробнее</button>
                    </div>
                  </div>
                </div>
                <div class="carousel-item">
                  <div class="col-xl-4">
                    <div class="card">
                      <div class="card-img">
                        <img
                          src="./../../img/products/4.jpg"
                          class="img-fluid"
                        />
                      </div>
                      <div class="card-name">УПИ</div>
                      <button class="more-info">Узнать подробнее</button>
                    </div>
                  </div>
                </div>
              </div>
              <a
                class="carousel-control-prev bg-transparent w-aut"
                href="#recipeCarousel"
                role="button"
                data-bs-slide="prev"
              >
                <span
                  class="carousel-control-prev-icon"
                  aria-hidden="true"
                ></span>
              </a>
              <a
                class="carousel-control-next bg-transparent w-aut"
                href="#recipeCarousel"
                role="button"
                data-bs-slide="next"
              >
                <span
                  class="carousel-control-next-icon"
                  aria-hidden="true"
                ></span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  let items = document.querySelectorAll(".carousel .carousel-item");

  items.forEach((el) => {
    const minPerSlide = 3;
    let next = el.nextElementSibling;
    for (var i = 1; i < minPerSlide; i++) {
      if (!next) {
        // wrap carousel by using first child
        next = items[0];
      }
      let cloneChild = next.cloneNode(true);
      el.appendChild(cloneChild.children[0]);
      next = next.nextElementSibling;
    }
  });
</script>
